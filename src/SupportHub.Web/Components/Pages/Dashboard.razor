@page "/"
@attribute [Authorize]
@inject ICurrentUserService CurrentUserService

<PageTitle>Dashboard — Ralis Support Hub</PageTitle>

<MudText Typo="Typo.h4" Class="mb-4">
    Welcome to Ralis Support Hub
    <AuthorizeView>
        <Authorized>, @context.User.Identity?.Name</Authorized>
    </AuthorizeView>
</MudText>

<MudGrid>
    <MudItem xs="12" sm="6" md="3">
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.h5" Color="Color.Primary">—</MudText>
                <MudText Typo="Typo.body2">Open Tickets</MudText>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="6" md="3">
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.h5" Color="Color.Warning">—</MudText>
                <MudText Typo="Typo.body2">Pending</MudText>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="6" md="3">
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.h5" Color="Color.Success">—</MudText>
                <MudText Typo="Typo.body2">Resolved Today</MudText>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="6" md="3">
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.h5" Color="Color.Error">—</MudText>
                <MudText Typo="Typo.body2">SLA Breaches</MudText>
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>

<MudText Typo="Typo.body2" Class="mt-6 mud-text-secondary">
    Dashboard metrics will be available after Phase 6.
</MudText>

<AuthorizeView Policy="SuperAdmin">
    <Authorized>
        <MudDivider Class="my-4" />
        <MudText Typo="Typo.h6" Class="mb-2">Quick Links</MudText>
        <MudStack Row="true" Spacing="2">
            <MudButton Href="/admin/companies" Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.Business">
                Manage Companies
            </MudButton>
            <MudButton Href="/admin/users" Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.People">
                Manage Users
            </MudButton>
        </MudStack>
    </Authorized>
</AuthorizeView>
